language: node_js
node_js: '8.10'
branches:
  only:
  - master
  - dev
env:
  global: 
    #Need to expose AWS_export AWS_ACCESS_KEY_ID=[secure]
    # export AWS_SECRET_ACCESS_KEY=[secure]
    # export fb_telegram_param_key=[secure]
    # export fb_telegram_param_iv=[secure]
  - secure: Y4eDn5TKEA91FvOTLu+h0RYd+4Z2bv8gYt+d2m+fh+zQq23JRLIQJDpjkV4q4CQutHO3Ze/22FOzwhMK4mBTiR/1NC8ch0NNS7EAVwpH0VilMWnoToA6BdaA/dtDn4D4k0YnMqKBvW24A83m0Gt9zGEd6CTlVdm5zfw13v1F0+DvK/AEn0AdQGCNGTZ6ZB4N8wrBHnnGbG1ijIZ2XfPKSEB6qugInK5Fkc7hStfTSlF+2tvz6ZI0RqCGwIuooUJepmRXe+iYIs8Soy6iRbR5UegftmwH62XMkjpYzHX8pWKFRS3/kz4tR2lHWRo8g3UD88OkJKgMufGbD3YUiiSSBrwkZVUttOwGaifsTN0LtIb9NzJxYm0UDyZzXKR7SKY6ZDmlqxoOas+EzM0xxule142C97bL3ocfvWDIG9Zf9hPTNVW6Emzf2QcbrOQR7Lyjr+OFXvnHcjuXwTQcofWv21fkR4bDzNdsAkLOqOe2hlbmD5LunTU/62sOrPuqHY0Hq9kq48EkBPYyWRyzwrF9KLwJCci16eDzLelnDfme7Lo503/m2QALHQjNfHXr1cez8CjMe238CUHRjqwgVruaksb6FiiHj8k26c5qj4IZviddNgcMC2aTSrCQQOEXS5JT3TtsFbV/CEfP29H8qN85UNI9OpWB8KjyavxQjVTtpkE=
  - secure: o8ASGs889Te3w5tVdeT2pD0cjblu8QZk80kQoQhCfqMSnlDvka9RESaLvRfyW97k1eDb+pCMTPxPj7SjMpXJUE7UmpFYkk3TR7lSW/9E30+9jB0Bjn7teT8JQm1iTmP9v6Wh0lJtsIDHVLJgjoZE5f7ui3wpSn40gPbzuCTlIqR1YlX8AiVhh6X2CEs45i8+preYcRmEjZZnnI/UqeykSvzuUn/wOno81o0NcVYouFh0Cploo/+qs4GKvt4YKry2TOOVYAtsyfkS+ocpAg3O9bni1MC/rEFwTDtWD65w8Bc4p3LNRH3YSJX1mMbRBV0KhE1n1KdoOd6fSYzSfsirypzbBHUVN/ywzsFUNuokJyokvxrSs6CSinNLNdKdo0fLacGsFL5B15N8SQfBhiv7AWFb+CHv3KPtWVR1NnrNYHcemPlkG4EH4TnruHPHHLVkLwhJJmrcUEfqWU5zNgO3Jqa9FwY2adOYrrhBbOuqCb5jKXLahTdqOBG/wm2iLEQXCODkKdkTcmCqmNS0/iwxRZuL05N2sNa7FZqOepkFtgt/+qAOfs/z6fSjnT+lqYKLShzzCau8adM9WiCU3cIVT7EBBti1YDF6YnIvZCM5hsSjbjKrz0hxO+UaXTzCSHFjH79GvcDtjuJ3exTN9013mMRCjQvFWe/+FIc/kKZSwz8=
  - secure: TUmgH73zWdjuSNZ4b3TI3JG+iTeI2DgFuBUig9x/hYai2qvZWGZyXy1HB9ce+Uq1b20wQ3J0lR3tGqvUREwR2yvjc2aB6yE1aYKHie85lKqN8JVIojSbekMmHDtVKdiP24aNBIZCLeUuuyGbzPpSOdQbKu3PTXH/twmICS45V3sa5yUylsePEbI9ELWy/qvZEmFo0mHCR56HzUhVzbU95/i9ixjaRncBi+ZBvRjma5a6GnKQT3ZDE/8YdXhNKTkFU0ERx0FAKsvs7V3kLY5tFHhqyrXyKTlFjltU3U1AgWTdChHzmmCqvjqzitd3E9hptbTq/TfhSDqYT6bRf3PX/x2+J4rVZVVpsqpD0gxRfDiUMJEhCgyCjyU9JIC6dV2m7BWkCwTH/65RhUoiZWozKXoYu2b7LsgkzuE1hnC/26NeLBwo/tyYjMNXU0Sz3NNyFoIn3suTfqNdXEYJ25CiDyemWS4qvdEHjOH3fIM5xS10sG50Nn+maNy9I/v8gv2m9AcGLGewf93kYgVtjVtD2eEsP/2ee2iQK1F7E8YrZ2LhD8L+LXmc2yWSbZZL2Gd20AcdFCDBw1ZaIUx9mS4mzFvo5OuoRiNuZ+D7agc4T3In3D6a649z7Ifxm4p6r1KTDBGYZ7AH5rttVhP8bejJWrJov9JDdFmi9pWdP/vS1eM=
  - secure: ZqO+9FlSXhjbjeiLNn9Eesi5NKamvQ5nON/zBcasU1gyb2IsB39bbSnFVM17cGDkEH/m/YmXp3MSYIatAgX5QlYWiMkvBt6ix2d1Ae2zAu/BEOtCazJO0UyTre+N3Ustgz89TZLtZft3sYElDwi6Bn/kE3lnDzPtIRTI5dHTo9ldRBkre7wLCTTx+f1HgOdhXtsqYt4XZz+9PwFMlLW9oUXfVcKK80qVnS3iIy8SZVMJosHhdtcOf2Ymjkqwat6Lic2Tjfz60NyKh0bLdFyVoSNhAHcmCzL1DAEdIUhe63SVOuI+97tIfKft8D22Aiw3Mer2/Gpd/yoyBDnDhAUGBae4oa+fTFUpJ+4yIdOHFOZWj8D5v289zyaCsxaPj8SvWnU1gVQ7dU6yCU8C4sBcpdy0+X2h/KHKxR9MwSEryuWzc5gchB58Xurvhy1iZfS3U9ie8kcq3zwqJhIpah67jhT/F9XHKp72pUEcL7a2Z668eq6282U5pm9JpG9dBe+VSy9j49G2674146t/Tcz7Bbz5OFl30zG+3QtWR2/OFRE6NwPTJN4QuWoobQBLX/vt1qsF9BCJDpvB9E3A9XjsajZCHbMYOYnsV9rVTROsWH7rwHyj2K26UbovfNogmLq+LN55cBZljbJ9aXtFpg/CPwMXV4HqYKORj9QAt7HtMxk=
before_install:
- "./scripts/decrypt.sh"
- npm install -g serverless
install: npm install
script:
- npm run test && npm run coverage
after_success: npm run build && serverless deploy --area India-$TRAVIS_BRANCH
